<!-- include the base html template -->
{% extends 'layouts/base.html' %}

<!-- define the page title block -->
{% block title %}
SRCT Go &bull; My Links
{% endblock %}

<!-- define the content block for the page -->
{% block content %}

<!-- define the page header div -->
<div class="page-header" id="banner">
  <div class="row">
    <div class="col-md-12">
      <h1>
        <span class="fa-stack fa-lg">
          <i class="fa fa-circle fa-stack-2x"></i>
          <i class="fa fa-link fa-stack-1x fa-inverse"></i>
        </span>
        My Links
      </h1>
    </div>
  </div>
  <div class="newlink" style="text-align: right;">
      <a href="{% url 'new_link' %}"><i class="fa fa-plus" aria-hidden="true"></i> Add new link</a>
  </div>
</div>

<!-- display sort menu if there are any links -->
{% if urls %}
    <div class="dropdown" style="text-align:right;">
        <!-- button for the dropdown menu -->
        <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">
            Sort By <i class="fa fa-caret-down fa-fw"></i>
        </button>
        <!-- generate the list of sorting options based on given sort_methods -->
        <ul class="dropdown-menu dropdown-menu-right" style="margin-top: 2px;">
            {% for method, name in sort_methods.items %}
                <!-- check if currently selected sort method is this one to highlight -->
                {% if request.GET.sort == method %}
                    <li style="background: #eee;" {# class="active" Properly implmenet the .active class#}>
                <!-- if there is no currently selected sort method, highlight the default case "Most Recent" -->
                {% elif request.GET.sort == null and method == "-date_created" %}
                    <li style="background: #eee;" {# class="active" Properly implmenet the .active class#}>
                <!-- no styling -->
                {% else %}
                    <li>
                {% endif %}
                    <!-- create link to sort method -->
                    <a href="?sort={{ method }}" style="color: #262626;">{{ name }}</a>
                </li>
            {% endfor %}
        </ul>
    </div>
{% endif %}

<!-- show all of the links -->
<div class="row">
    <!-- for every url in the urls list-->
    {% for url in urls %}
        <legend>
        <!-- include the link box for this url -->
        {% include 'link_box.html' %}
        </legend>
    <!-- unless the list is empty -->
    {% empty %}
      <h3>&nbsp;&nbsp;&nbsp;None found <i class="fa fa-frown-o"></i></h3>
    {% endfor %}
</div>

{% endblock %}
